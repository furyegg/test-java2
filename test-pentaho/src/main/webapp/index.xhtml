<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3c.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:p="http://primefaces.org/ui"
        >
<h:head>
    <script type="application/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
</h:head>
<h:body>
    <h2>#{appBean.appName}</h2>
    <h:form id="form">
        <p:tabView id="tabView">
            <p:tab title="Pentaho">
				<p:commandButton value="Generate" action="#{carBean.generateReport}" update=":form:tabView"/>
				<p:outputLabel id="status" rendered="#{carBean.generated}" value="generated: #{carBean.pdfContent != null}"/>
				<p:panel id="report" rendered="#{carBean.generated}" header="Report">
					<p:panelGrid columns="1">
						<!--<object data="#{carBean.pdfContent}" type="application/pdf" ></object>-->
						<p:media cache="false" value="#{carBean.pdfContent}" width="100%" height="600px" player="pdf"/>
					</p:panelGrid>
				</p:panel>
            </p:tab>
            <p:tab title="Primeface">
                <p:dataTable var="car" value="#{carBean.cars}">
                    <p:column headerText="Brand" sortBy="#{car.brand}">
                        <h:outputText value="#{car.brand}"/>
                    </p:column>
                    <p:column headerText="Year" sortBy="#{car.year}">
                        <h:outputText value="#{car.year}"/>
                    </p:column>
                    <p:column headerText="Color" sortBy="#{car.color}">
                        <h:outputText value="#{car.color}"/>
                    </p:column>
                    <p:column headerText="Price" sortBy="#{car.price}">
                        <h:outputText value="#{car.price}"/>
                    </p:column>
                </p:dataTable>
            </p:tab>
        </p:tabView>
    </h:form>
</h:body>
</html>